Проект Bitrix Headless подразумевает создание инфраструктуры для дальнейшей разработки e-commerce по заданным гайдлайнам.

**Цель проекта**

Создание гибкого, удобного, масштабируемого и хорошо задокументированного REST API для 1С Битрикс "Управление сайтом", не зависящего от штатных или любых других компонентов.

Данный проект нацелен на упрощение разработки как типовых, так и сложных решений в области e-commerce с применением архитектуры MVVM (Model-View-ViewModel), при которой графический интерфейс приложения отделен от бизнес логики.

Здесь и далее мы будем обсуждать функционал базового e-commerce проекта, включающего в себя основные модули и компоненты, доступные в решении.

## Структура сайта

Поскольку за клиентский роутинг отвечает в данном проекте Frontend (разделяем представление и логику), файловая структура Nuxt приложения будет формировать структуру всего сайта.

- Главная страница
- Каталог
	- Категория
		- Подкатегория
			- Карточка товара
				- Отзывы
				- FAQ
				- Документы
- Блог
	- Новости
	- Акции
	- Статьи
- О компании
	- Миссия компании
	- Сотрудники
	- Документы
	- Реквизиты
	- Вакансии
	- Партнёрам
- Услуги
	- Категория
		- Карточка услуги
- Сравнение
- Избранное
- Поиск
	- Результат поиска
- Корзина
	- Оформление заказа
	- Поздравление с покупкой
- Личный кабинет
	- Персональные данные
	- История заказов
	- Подписки
	- Мои отзывы
	- Просмотры
	- Тех. поддержка
	- Скидочные карты
- Контакты
- Подарочные сертификаты
- Доставка
- Оплата
- Правила возврата и обмена
- Политика конфиденциальности

## Общий функционал сайта

Шапка сайта:

1) Модуль **"Местоположение"** для определения геолокации пользователя с помощью GeoIp\Manager ::getRealIp() и \Bitrix\Sale\Location\GeoIp ::getLocationId; Возможность вручную выбрать местоположение (город) из всплывающего окна со списком предустановленных местоположений из Битрикс и поисковой строкой.
2) Модуль **"Избранные товары"** с отображением листинга товаров при наведении курсора и возможностью удаления, кнопка перехода в избранное
3) Модуль **"Сравнение товаров"** с отображением листинга товаров при наведении курсора и возможностью удаления, кнопка перехода в сравнение
4) Модуль **"Личный кабинет"** с выпадающим списком опций (ссылок на подразделы личного кабинета), кнопками "Входа" и "Выхода" в зависимости от статуса авторизации.
5) Модуль **"Корзина"** с выпадающим списком товаров, возможностью изменения кол-во товаров в корзине, удаления, кнопка перехода в корзину.
6) Модуль **"Контактные данные"** с возможностью вывода нескольких номеров телефона, временем работы, контактным email
7) Модуль **"Социальные сети"** с выводом списка внешних ссылок в виде иконок соотв. социальных сетей
8) Модуль **"Мессенджеры"** с выводом списка внешних ссылок на мессенджеры в виде иконок
9) Модуль **"Логотип"** с выводом логотипа организации в .SVG, .PNG, .JPG
10) Модуль **"Поиск по сайту"** с возможностью поиска по наименованию, артикулу (свойство инфоблока) и отображением в выпадающем списке результатов поиска (первые 10) и кнопки перехода к результатам поиска.
11) Модуль **"Мега-меню"**, позволяющий при нажатии по кнопке "Каталог", получить доступ через многоуровневое интерактивное меню ко всем разделам, подразделам (до 4-го уровня вложенности) сайта.
12) Модуль **"Меню каталога"**, представляющее собой слайдер со ссылками на разделы первого уровня вложенности каталога.
13) Модуль **"Верхнее меню"** со списком ссылок на основные разделы сайта с возможностью вывода подразделов в виде выпадающих списков.
14) Модуль **"Выбор валюты"** с выпадающим списком валют.
15) Модуль **"Баннер-растяжка"** с возможностью вывода баннеров и кнопкой сокрытия

Подвал сайта:

1) Модуль **"Логотип"**
2) Модуль **"Нижнее меню"** со списком ссылок на основные разделы сайта с возможностью вывода подразделов в виде.
3) Модуль **"Подписаться на рассылку"** с возможность добавления e-mail пользователя в БД
4) Модуль **"Социальные сети"**
5) Модуль **"Copyrights"**
6) Модуль **"Контактные данные"**
7) Модуль **"Адреса магазинов"**, представляющий собой список адресов магазинов

Модальные окна:

1) Форма авторизации (Модуль "Личный кабинет")
2) Форма регистрации (Модуль "Личный кабинет")
3) Форма восстановления пароля (Модуль "Личный кабинет")
4) Форма верификации email/номера телефона по СМС (Модуль "Личный кабинет")
5) Форма обратной связи (Модуль "Обратная связь")
6) Форма выбора местоположение (Модуль "Местоположение")
7) Подтверждение удаления товара из корзины
8) Базовая служебная форма подтверждения действия

## Каталог
### Верхний уровень

**Общее:**

Верхний уровень каталога расположен по адресу: /catalog/
Содержит листинг, состоящий из карточек категорий (santa.champer.ru/catalg/)

**Детали:**

Каждая карточка категории получает на вход:

- Наименование (NAME) string
- Полную ссылку на категорию в каталоге (URL) string
- Количество товаров (рекурсивно) (COUNT) int
- Изображение (объект) (PICTURE) object
- Свойство для оформления элемента (UF_CLASS) string
- Свойство для вывода короткого названия (UF_SHORT_NAME) string
- Сортировку (SORT) int
- Массив с данными подкатегорий (UF_SUBCATEGORIES) arr

### Категория

**Общее:**

Категория каталога располагается по адресу: /catalog/{category}
Содержит фильтр, листинг карточек товаров и вывод подкатегорий в виде слайдера.

**Детали:**

Каждая карточка товара получает на вход:

- Наименование (NAME) string
- Полную ссылку на товар в каталоге (URL) string
- Количество в корзине (IN_BASKET) int
- Количество в избранном (IN_FAVORITES) int
- Количество в сравнении (IN_COMPARISON) int
- Изображение (объект) (PICTURE) object
- Текст анонса (TEXT) string
- Фотографии товара для галереи (ATT_GALLERY) array
- Стоимость (PRICE) array
- Скидки (DISCOUNTS) array
- Доступность (AVAILABILITY) bool
- Остатки по складам (STORAGES) array
- Вес (WEIGHT) float
- Габариты (SIZES) array
- Производитель (MANUFACTURER) array
- Артикул/Штрихкод (BARCODE) string
- Характеристики (TECHS) array
- Свойство для вывода короткого названия (ATT_SHORT_NAME) string
- Сортировку (SORT) int
- Является ли товар "Новинкой" (ATT_NOVELTY) bool
- Является ли товар "Хитом продаж" (ATT_SALES_HIT) bool

### Карточка товара

**Общее:**

Карточка товара располагается по адресу: /catalog/products/{product}

Карточка товара состоит из следующих компонентов:

- Модуль **"Хлебные крошки"**, представляющий собой меню из категорий и подкатегорий пути к товару в каталоге
- Модуль **"Галерея продукта"**, состоящий из слайдера графических файлов (изображений) и/или видео
- Модуль **"Торговые предложения"** для выбора вариации товара и перехода на её карточку
- Модуль **"Оценка"** со статистикой товара по кол-ву отзывов и средней оценкой
- Модуль **"Избранное"** с иконкой добавления или удаления
- Модуль **"Сравнение"** с иконкой добавления или удаления
- Модуль **"Характеристики кратко"** с выводом таблицы из десяти первых хар-к (сортировка)
- Модуль **"Коммерция"** с выводом коммерческой информации по товару
- Модуль **"Кешбек"**
- Модуль **"Купить в 1 клик"**
- Модуль **"Кредит и рассрочка"**
- Модуль **"Авторизация"**
- Модуль **"Способы получения заказа"**
- Модуль **"Ярлыки"** для вывода особенностей товара в виде labels
- Модуль **"Аксессуары"**
- Модуль **"Комплектация"**
- Модуль **"Описание"**
- Модуль **"Преимущества"**
- Модуль **"Часто задаваемые вопросы"**
- Модуль **"Посадочная страница"**
- Модуль **"Характеристики подробно"** с выводом полной таблицы характеристик
- Модуль **"Отзывы"**
- Модуль **"Связанные товары"**
- Модуль **"Наличие в магазинах"**
- Модуль **"Вы смотрели"**
- Модуль **"Поделиться"**
- Модуль **"Теги"**
